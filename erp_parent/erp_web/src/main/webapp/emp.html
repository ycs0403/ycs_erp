<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>员工管理</title>

<!-- 引入Easyui.js样式 -->
<link rel="stylesheet" type="text/css"
	href="ui/themes/default/easyui.css">
<link rel="stylesheet" type="text/css" href="ui/themes/icon.css">
<script type="text/javascript" src="ui/jquery.min.js"></script>
<script type="text/javascript" src="ui/jquery.easyui.min.js"></script>
<script type="text/javascript" src="ui/locale/easyui-lang-zh_CN.js"></script>

<!-- 序列化json插件，提取表单数据 -->
<script
	src="https://cdn.bootcss.com/jquery.serializeJSON/2.9.0/jquery.serializejson.js"></script>

<!-- 前端代码的封装 -->
<script type="text/javascript" src="js/crud.js"></script>
<script type="text/javascript" src="js/date.js"></script>

<script type="text/javascript">
	var name = 'emp';//全局属性
	$(function() {
		$('#grid')
				.datagrid(
						{
							columns : [ [
									{
										field : 'uuid',
										title : '员工编号',
										width : 50
									},
									{
										field : 'username',
										title : '登录名称',
										width : 100
									},
									{
										field : 'name',
										title : '真实姓名',
										width : 100
									},
									{
										field : 'email',
										title : 'E-mail',
										width : 200
									},
									{
										field : 'tele',
										title : '电话',
										width : 100
									},
									{
										field : 'gender',
										title : '性别',
										width : 50,
										formatter : function(value) {
											if (value == 1) {
												return '男';
											}
											if (value == 0) {
												return '女';
											}
										}
									},
									{
										field : 'address',
										title : '地址',
										width : 200
									},
									{
										field : 'birthday',
										title : '出生日期',
										width : 100,
										formatter : function(value) {
											return new Date(value)
													.Format('yyyy-MM-dd');//数字转日期
										}
									},
									{
										field : 'dep',
										title : '部门编号',
										width : 100,
										formatter : function(value) {
											if (value != null) {
												return value.name;
											} else {
												return '';
											}
										}
									},
									{
										field : '-',
										title : '操作',
										width : 100,
										formatter : function(value, row, index) {
											return "<a href='javascript:void(0)' onclick='edit("
													+ row.uuid
													+ ")'>修改</a><a href='javascript:void(0)' onclick='dele("
													+ row.uuid + ")'>删除</a>";
										}
									} ] ]
						});
	});
</script>
</head>

<body>
	<!------------------------------- Start --------------------------------->
	<!-- 条件查询 -->
	<form id="searchForm">
		性别：
		<input name="t1.gender" type="radio" value="">全部 
		<input name="t1.gender" type="radio" value="1">男
		<input name="t1.gender" type="radio" value="0">女

		出生年月：
		<input name="t1.birthday" class="easyui-datebox"
			style="width: 100px"> 至 <input name="t2.birthday"
			class="easyui-datebox" style="width: 100px"> 
			
		部门：<input  name="t.dep.uuid" class="easyui-combobox" style="width: 100px"
			data-options="textField:'name',valueField:'uuid',url:'dep_getList.action'">
		<button id="btnSearch" type="button">查询</button>
	</form>

	<!-- 数据查询 -->
	<table id="grid"></table>

	<!-- 添加修改部分 -->
	<div id="editWindow" class="easyui-window" title="员工编辑"
		style="width: 270px; height: 280px" data-options="closed:true">
		<form id="editForm">
			<input type="hidden" name="t.uuid">
			<table>
				<tr>
					<td>登录名称：</td>
					<td><input name="t.username" class="easyui-validatebox"
						data-options="required:true" missingMessage="登录名称必须填写"></td>
				</tr>
				<tr>
					<td>真实姓名：</td>
					<td><input name="t.name"></td>
				</tr>
				<tr>
					<td>E-mail：</td>
					<td><input name="t.email" class="easyui-validatebox"
						data-options="required:true,validType:'email'"
						missingMessage="EMAIL不能为空" invalidMessage="EMAIL格式不正确"></td>
				</tr>
				<tr>
					<td>电话：</td>
					<td><input name="t.tele"></td>
				</tr>
				<tr>
					<td>性别：</td>
					<td><input name="t.gender" type="radio" value="0">女 <input
						name="t.gender" type="radio" value="1">男</td>
				</tr>
				<tr>
					<td>地址：</td>
					<td><input name="t.address"></td>
				</tr>
				<tr>
					<td>出生日期：</td>
					<td><input name="t.birthday" class="easyui-datebox"
						editable="false"></td>
				</tr>
				<tr>
					<td>部门编号：</td>
					<td><input value="全部" name="t.dep.uuid"
						class="easyui-combobox"
						data-options="textField:'name',valueField:'uuid',url:'dep_getList.action',required:true,missingMessage:'请选择部门'"></td>
				</tr>
			</table>
			<br />
			<div align="center">
				<button id="btnSave" type="button">保存</button>
			</div>
		</form>
	</div>
	<!------------------------------- End --------------------------------->
</body>
</html>